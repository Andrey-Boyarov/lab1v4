import React, {useState} from "react";
import PlanetMenu from "./PlanetMenu";

export default function Planets({planetsState: [planets, setPlanets], dDState}){
    // const [menus, setMenus] = useState([])

    // const actualizeAll = () => {
    //     setPlanets(menus)
    // }

    const colors = [
        "#fffcc2", "#2e5cf2", "#b8fff4",
        "#ffec73", "#fa8b57", "#de5110",
        "#10cdde", "#fcba03", "#d5dedb",
        "#e4e80e"
    ]

    const randomColor = () => colors[Date.now() % colors.length];

    const add = () => {
        const id = Date.now()
        const planet = {id, m: 1, x: 0, y: 0, z: 0, vx: 0, vy: 0, vz: 0, r: 0.005, color: randomColor()}
        setPlanets([...planets, planet])
    }

    const fillDefault = () => {
        setPlanets([
            {
                id: 1,
                m: 1,
                x: 0.004502508845301258,
                y: 0.0007670734814646406,
                z: 0.0002660563278120356,
                vx: -3.5174423541454e-7,
                vy: 0.00000517762777222281,
                vz: 0.00000222910220557907,
                r: 0.004654692513368984,
                color: "#e4e80e"
            },
            // {
            //     id: 2,
            //     m: 1.6601367952719304e-7,
            //     x: 0.3572602064472754,
            //     y: -0.09154904243051842,
            //     z: -0.08598103998694037,
            //     vx: 0.0033678456621937854,
            //     vy: 0.02488934284224929,
            //     vz: 0.012944071586795967,
            //     r: 0.000016308155080213903,
            //     color: "#d5dedb"
            // },
            // {
            //     id: 3,
            //     m: 0.0000024478383396645447,
            //     x: 0.6082494331856041,
            //     y: -0.34913244319590053,
            //     z: -0.19554434578540694,
            //     vx: 0.010952420109908838,
            //     vy: 0.01561250673986247,
            //     vz: 0.006328876451746665,
            //     r: 0.000040453208556149734,
            //     color: "#fcba03"
            // },
            // {
            //     id: 4,
            //     m: 0.0000030404326333266026,
            //     x: 0.11601490913916648,
            //     y: -0.9266055536403852,
            //     z: -0.40180627760698806,
            //     vx: 0.01681162005220229,
            //     vy: 0.0017431316879820316,
            //     vz: 0.0007559737671361461,
            //     r: 0.000042586898395721926,
            //     color: "#10cdde"
            // },
            // {
            //     id: 5,
            //     m: 3.2271514450538743e-7,
            //     x: -0.1146885824390927,
            //     y: -1.3283665308334882,
            //     z: -0.6061551894193808,
            //     vx: 0.014482004807944747,
            //     vy: 0.00023728549236071137,
            //     vz: -0.000283749836102397,
            //     r: 0.000022657085561497327,
            //     color: "#de5110"
            // },
            {id: 6, m: 0.0009547919384243222, x: -5.384209406992146, y: -0.8312476561610839, z: -0.2250947570335499, vx: 0.0010923632912184977, vy: -0.0065232941911922675, vz: -0.002823012267219439, r: 0.00046731951871657756, color: "#fa8b57"},
            {id: 7, m: 0.0002858859806661029, x: 7.889889933822818, y: 4.595710726926013, z: 1.5584315167250897, vx: -0.0032172034910936636, vy: 0.004330632233555691, vz: 0.0019264174637994528, r: 0.0003892513368983957, color: "#ffec73"},
            {id: 8, m: 0.000043662440433515637, x: -18.269900814978268, y: -1.1627115802190469, z: -0.25036954074255485, vx: 0.00022154016562741063, vy: -0.0037676535582461617, vz: -0.0016532438049223935, r: 0.00016953208556149733, color: "#b8fff4"},
            // {id: 9, m: 0.00005151389020535497, x: -16.059545091924463, y: -23.942948290879503, z: -9.400422780354008, vx: 0.0026431227915765616, vy: -0.0015034920807587946, vz: -0.0006812710048723478, r: 0.0001645855614973262, color: "#2e5cf2"},
            {id: 10, m: 0.00005151389020535497, x: -16.059545091924463, y: -23.942948290879503, z: -9.400422780354008, vx: 0.0026431227915765616, vy: -0.0015034920807587946, vz: -0.0006812710048723478, r: 0.0001645855614973262, color: "#2e5cf2"},
            {id: 11, m: 7.396449704142012e-9, x: -30.487822112155552, y: -0.8732454301967293, z: 8.911296984184755, vx: 0.00032256219593323327, vy: -0.0031487479275516053, vz: -0.0010801779315936957, r: 0.000007943181818181818, color: "#fffcc2"}
        ])
    }

    return(
        <div className="Planets" hidden={dDState !== 'Planets'}>
            {[...planets].map(p => <PlanetMenu key={p.id}
                                             id={p.id}
                                             planets={planets} setPlanets={setPlanets}/>)}
            <button onClick={add}>Add</button>
            <button onClick={fillDefault}>Fill with default</button>
            {/*<button onClick={actualizeAll}>Apply</button>*/}
        </div>
    )
}